/* app/styles/animations.css */

/* ==========================================================================
   Keyframe Definitions
   ========================================================================== */

/*  Animated Gradient Underline */
@keyframes slideGradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* === flip effect === */
@keyframes slideWordsUp {
  0%,
  45% {
    /* Pause on 'Build' */
    transform: translateY(0);
  }
  50%,
  95% {
    /* Pause on 'Break' */
    /* Move container up by the height of one line (100% of its own height) */
    transform: translateY(-100%);
  }
  100% {
    /* Loop back */
    transform: translateY(0);
  }
}

/* ========= Animation Utility Classes ========= */

/* ========= Fancy Hover ========= */

.fancy-hover {
  @media (hover) {
    & > li {
      transition: opacity 0.3s linear;
    }
  }

  &:has(> li:hover) > li:not(:hover),
  &:has(> li:focus-within) > li:not(:focus-within) {
    opacity: 0.25;
  }
}

.bouncy-hover {
  @media (hover) {
    /* @media (hover) and (prefers-reduced-motion) { */
    & > li {
      transform-origin: left center;
      transition: transform 1s var(--bounce), opacity 0.3s linear;
    }
  }

  &:has(> li:hover) > li:not(:hover),
  &:has(> li:focus-within) > li:not(:focus-within) {
    opacity: 0.25;
    transform: scale(0.8);
  }
}

.fanning-hover {
  /* play with these */
  --arc: 5deg;
  --distance-multiplier: 15%;

  &:has(li:nth-child(1):hover) {
    --target: 1;
  }
  &:has(li:nth-child(2):hover) {
    --target: 2;
  }
  &:has(li:nth-child(3):hover) {
    --target: 3;
  }
  &:has(li:nth-child(4) :hover) {
    --target: 4;
  }
  &:has(li:nth-child(5) :hover) {
    --target: 5;
  }
  &:has(li:nth-child(6) :hover) {
    --target: 6;
  }
  &:has(li:nth-child(7) :hover) {
    --target: 7;
  }
  &:has(li:nth-child(8) :hover) {
    --target: 8;
  }
  &:has(li:nth-child(9) :hover) {
    --target: 9;
  }
  &:has(li:nth-child(10) :hover) {
    --target: 10;
  }

  @media (hover) and (prefers-reduced-motion: no-preference) {
    & > li {
      transform-origin: -200% 50%;
      transition: transform 1s var (--bounce), opacity 0.3s linear;
    }

    &:has(> li:hover) > li:not(:hover),
    &:has(> li:focus-within) > li:not(:focus-within) {
      /* used for calculations, don't touch */
      --distance-from-target: abs(var (--sibling-index) - var(--target));
      --distance-multiplier-calc: var(--distance-from-target) *
        var(--distance-multiplier);
      --gradual-fadeout: calc(100% - var(--distance-multiplier-calc));
      --angle: calc((var(--sibling-index) - var(--target)) * var(--arc));

      /* opacity: 0.25; */
      /* transform: scale(0.8); */
      opacity: var (--gradual-fadeout);
      transform: rotateZ(var(--angle));
    }
  }
}

/* ========= Fanning Effect ========= */

.fanning-list {
  list-style: none; /* Remove default list bullets */
  padding: 0;
  margin: 0;
  /* Add any other base styles for the ul */
  /* The :has() selector below triggers the fanning effect */
  /* This ensures the effect only happens when a child li is hovered or focused */
}

/* Styles for individual list items */
.fanning-list-item {
  /* Set the transform origin for rotation */
  transform-origin: left center;
  transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
  /* Add padding, margin, or other styling for list items */
  padding: 10px; /* Example padding */
  margin-bottom: 5px; /* Example margin */
  /* Ensure items are block level or have defined width for transform-origin to work consistently */
  display: block;
  width: 100%; /* Example width */

  /* Optional: Add a subtle effect on the active item itself */
  /* As discussed, this specific rule is not in the core blog post demo */
  /* &:hover,
  &:focus-within {
    transform: scale(1.05);
  } */
}
/* Optional: Add a subtle scale effect on active item */
.fanning-list-item:hover,
.fanning-list-item:focus-within {
  transform: scale(1.02);
  transition: transform 0.3s ease;
}

/* Media query to disable hover effects on devices that don't support hover */
/* This is important for touch devices */
@media (hover: none) {
  .fanning-list:has(> li:hover) > li:not(:hover) {
    opacity: 1 !important; /* Override opacity */
    transform: none !important; /* Override transform */
  }
}

/* Optional: Add styles for reduced motion */
/* @media (prefers-reduced-motion: reduce) {
  .fanning-list-item {
    Disable transitions
    transition: none !important;
  }
} */

/* ========= Quick Flip Effect ========= */
.quick-flip {
  overflow-y: clip;
  --quick-flip-duration: 0.325s;
}

.quick-flip > * {
  display: block; /* Won't work without this block */
  transition: translate var(--quick-flip-duration),
    transform 0s calc(var(--quick-flip-duration) / 2);
  transition-timing-function: cubic-bezier(0.66, 0, 0.34, 1);
}

.quick-flip:hover > *,
.quick-flip:focus > * {
  translate: 0 -2lh;
  transform: translateY(2lh);
}

.animate-slideGradient {
  animation: slideGradient 3s ease infinite;
}

/* ========= Flip Effect Hero ========= */

.flip-animation-container {
  /* Apply the animation */
  animation: slideWordsUp 4s infinite ease-in-out;
  /* Ensure smooth GPU acceleration */
  will-change: transform;
  transform: translateZ(0); /* Force GPU layer */
  width: auto;
}

/* @media (prefers-reduced-motion: reduce) {
  *,
  ::before,
  ::after {
    animation-delay: -1ms l important;
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    background-attachment: initial !important;
    scroll-behavior: auto !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
  }
} */

/* ==========================================================================
   Custom AOS Animations
   ========================================================================== */
@media screen {
  html:not(.no-js) body [data-aos="fade-up"] {
    -webkit-transform: translate3d(0, 14px, 0);
    transform: translate3d(0, 14px, 0);
  }
  html:not(.no-js) body [data-aos="fade-down"] {
    -webkit-transform: translate3d(0, -14px, 0);
    transform: translate3d(0, -14px, 0);
  }
  html:not(.no-js) body [data-aos="fade-right"] {
    -webkit-transform: translate3d(-14px, 0, 0);
    transform: translate3d(-14px, 0, 0);
  }
  html:not(.no-js) body [data-aos="fade-left"] {
    -webkit-transform: translate3d(14px, 0, 0);
    transform: translate3d(14px, 0, 0);
  }
  html:not(.no-js) body [data-aos="fade-up-right"] {
    -webkit-transform: translate3d(-14px, 14px, 0);
    transform: translate3d(-14px, 14px, 0);
  }

  html:not(.no-js) body [data-aos="fade-up-left"] {
    -webkit-transform: translate3d(14px, 14px, 0);
    transform: translate3d(14px, 14px, 0);
  }

  html:not(.no-js) body [data-aos="fade-down-right"] {
    -webkit-transform: translate3d(-14px, -14px, 0);
    transform: translate3d(-14px, -14px, 0);
  }

  html:not(.no-js) body [data-aos="fade-down-left"] {
    -webkit-transform: translate3d(14px, -14px, 0);
    transform: translate3d(14px, -14px, 0);
  }

  html:not(.no-js) body [data-aos="zoom-in-up"] {
    -webkit-transform: translate3d(0, 14px, 0) scale(0.6);
    transform: translate3d(0, 14px, 0) scale(0.6);
  }

  html:not(.no-js) body [data-aos="zoom-in-down"] {
    -webkit-transform: translate3d(0, -14px, 0) scale(0.6);
    transform: translate3d(0, -14px, 0) scale(0.6);
  }

  html:not(.no-js) body [data-aos="zoom-in-right"] {
    -webkit-transform: translate3d(-14px, 0, 0) scale(0.6);
    transform: translate3d(-14px, 0, 0) scale(0.6);
  }

  html:not(.no-js) body [data-aos="zoom-in-left"] {
    -webkit-transform: translate3d(14px, 0, 0) scale(0.6);
    transform: translate3d(14px, 0, 0) scale(0.6);
  }

  html:not(.no-js) body [data-aos="zoom-out-up"] {
    -webkit-transform: translate3d(0, 14px, 0) scale(1.2);
    transform: translate3d(0, 14px, 0) scale(1.2);
  }

  html:not(.no-js) body [data-aos="zoom-out-down"] {
    -webkit-transform: translate3d(0, -14px, 0) scale(1.2);
    transform: translate3d(0, -14px, 0) scale(1.2);
  }

  html:not(.no-js) body [data-aos="zoom-out-right"] {
    -webkit-transform: translate3d(-14px, 0, 0) scale(1.2);
    transform: translate3d(-14px, 0, 0) scale(1.2);
  }

  html:not(.no-js) body [data-aos="zoom-out-left"] {
    -webkit-transform: translate3d(14px, 0, 0) scale(1.2);
    transform: translate3d(14px, 0, 0) scale(1.2);
  }
}
